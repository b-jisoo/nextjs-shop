(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{7050:function(n,t,r){"use strict";r.d(t,{N4:function(){return f},Q7:function(){return m},UX:function(){return p},u7:function(){return v},zN:function(){return g}});var e,i,o,c,u,a,l,d=r(4660),s=r(949);(0,s.Ps)(e||(e=(0,d.Z)(["\n  query GET_PRODUCTS {\n    products {\n      _id\n      imageUrl\n      price\n      title\n      description\n      createdAt\n      category\n    }\n  }\n"]))),(0,s.Ps)(i||(i=(0,d.Z)(["\n  query GET_PRODUCTS_ID {\n    products {\n      _id\n    }\n  }\n"])));var f=(0,s.Ps)(o||(o=(0,d.Z)(["\n  query GET_PRODUCT($id: ID!) {\n    product(id: $id) {\n      _id\n      imageUrl\n      price\n      title\n      description\n      createdAt\n      category\n    }\n  }\n"]))),p=(0,s.Ps)(c||(c=(0,d.Z)(["\n  query GET_PRODUCT_FILTER_ID($category: String!) {\n    productFilter(category: $category) {\n      _id\n    }\n  }\n"]))),g=(0,s.Ps)(u||(u=(0,d.Z)(["\n  mutation ADD_PRODUCT(\n    $imageUrl: String!\n    $price: Int!\n    $title: String!\n    $description: String!\n    $category: String!\n  ) {\n    addProduct(\n      imageUrl: $imageUrl\n      price: $price\n      title: $title\n      description: $description\n      category: $category\n    ) {\n      _id\n      imageUrl\n      price\n      title\n      description\n      category\n      createdAt\n    }\n  }\n"]))),m=(0,s.Ps)(a||(a=(0,d.Z)(["\n  mutation UPDATE_PRODUCT(\n    $id: ID!\n    $imageUrl: String!\n    $price: Int!\n    $title: String!\n    $description: String!\n    $category: String!\n  ) {\n    updateProduct(\n      id: $id\n      imageUrl: $imageUrl\n      price: $price\n      title: $title\n      description: $description\n      category: $category\n    ) {\n      _id\n      imageUrl\n      price\n      title\n      description\n      category\n      createdAt\n    }\n  }\n"]))),v=(0,s.Ps)(l||(l=(0,d.Z)(["\n  mutation DELETE_PRODUCT($id: ID!) {\n    deleteProduct(id: $id)\n  }\n"])))},9220:function(n,t,r){"use strict";r.r(t);var e=r(7191),i=r(2640),o=r(2779),c=r(7253),u=r(1664),a=r.n(u),l=r(1163);r(7378);var d=r(9649),s=r(7050),f=r(4246);t.default=function(n){var t=(0,l.useRouter)().query.params||[],r=(0,i.Z)(t,1)[0];if(!r)return null;var u=(0,o.a)(s.N4,{variables:{id:r}}),p=u.data;u.loading,u.error,u.refetch;var g=(0,c.D)(d.yf,{refetchQueries:[{query:d.Rp}]}),m=(0,i.Z)(g,2),v=m[0];return((0,e.Z)(m[1]),p)?(0,f.jsx)("section",{className:"text-gray-700 body-font overflow-hidden bg-white",children:(0,f.jsx)("div",{className:"container px-5 py-24 mx-auto",children:(0,f.jsxs)("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[(0,f.jsx)("img",{alt:"ecommerce",className:"lg:w-1/2 w-full object-cover object-center rounded border border-gray-200",src:p.product.imageUrl}),(0,f.jsxs)("div",{className:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[(0,f.jsx)("h2",{className:"text-sm title-font text-gray-500 tracking-widest",children:p.product.category}),(0,f.jsx)("h1",{className:"text-gray-900 text-3xl title-font font-medium mb-1 mt-5",children:p.product.title}),(0,f.jsx)("div",{className:"flex mb-4 "}),(0,f.jsx)("p",{className:"leading-relaxed mt-10 min-h-[200px]",children:p.product.description}),(0,f.jsx)("div",{className:"flex mt-6 items-center pb-5 border-b-2 border-gray-200 mb-5"}),(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsxs)("span",{className:"title-font font-medium text-2xl text-gray-900",children:["₩",null==p?void 0:p.product.price.toLocaleString("ko-KR")]}),(0,f.jsx)("button",{className:"flex ml-auto text-white bg-red-500 border-0 py-2 px-6 focus:outline-none hover:bg-red-600 rounded",onClick:function(n){v({variables:{productId:p.product._id}})},children:"담기"}),(0,f.jsx)(a(),{href:"/cart",children:(0,f.jsx)("button",{className:" bg-gray-200 py-2 px-6 border-0 inline-flex items-center justify-center text-gray-500 ml-4 rounded hover:bg-gray-300",children:"카트로 이동"})})]})]})]})})}):null}},8015:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[...params]",function(){return r(9220)}])},1163:function(n,t,r){n.exports=r(1587)},7191:function(n,t,r){"use strict";function e(n){if(null==n)throw TypeError("Cannot destructure undefined")}r.d(t,{Z:function(){return e}})},2640:function(n,t,r){"use strict";function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=Array(t);r<t;r++)e[r]=n[r];return e}function i(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r,e,i=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=i){var o=[],c=!0,u=!1;try{for(i=i.call(n);!(c=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(a){u=!0,e=a}finally{try{c||null==i.return||i.return()}finally{if(u)throw e}}return o}}(n,t)||function(n,t){if(n){if("string"==typeof n)return e(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(n,t)}}(n,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return i}})},7253:function(n,t,r){"use strict";r.d(t,{D:function(){return d}});var e=r(9312),i=r(7378),o=r(79),c=r(2434),u=r(4062),a=r(3796),l=r(7959);function d(n,t){var r=(0,l.x)(null==t?void 0:t.client);(0,u.Vp)(n,u.n_.Mutation);var d=(0,i.useState)({called:!1,loading:!1,client:r}),s=d[0],f=d[1],p=(0,i.useRef)({result:s,mutationId:0,isMounted:!0,client:r,mutation:n,options:t});Object.assign(p.current,{client:r,options:t,mutation:n});var g=(0,i.useCallback)(function(n){void 0===n&&(n={});var t=p.current,r=t.client,i=t.options,u=t.mutation,l=(0,e.pi)((0,e.pi)({},i),{mutation:u});p.current.result.loading||l.ignoreResults||!p.current.isMounted||f(p.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:r});var d=++p.current.mutationId,s=(0,o.J)(l,n);return r.mutate(s).then(function(t){var e,i,o,u=t.data,l=t.errors,g=l&&l.length>0?new a.c({graphQLErrors:l}):void 0;if(d===p.current.mutationId&&!s.ignoreResults){var m={called:!0,loading:!1,data:u,error:g,client:r};p.current.isMounted&&!(0,c.D)(p.current.result,m)&&f(p.current.result=m)}return null===(i=null===(e=p.current.options)||void 0===e?void 0:e.onCompleted)||void 0===i||i.call(e,t.data,s),null===(o=n.onCompleted)||void 0===o||o.call(n,t.data,s),t}).catch(function(t){var e,i,o,u;if(d===p.current.mutationId&&p.current.isMounted){var a={loading:!1,error:t,data:void 0,called:!0,client:r};(0,c.D)(p.current.result,a)||f(p.current.result=a)}if((null===(e=p.current.options)||void 0===e?void 0:e.onError)||s.onError)return null===(o=null===(i=p.current.options)||void 0===i?void 0:i.onError)||void 0===o||o.call(i,t,s),null===(u=n.onError)||void 0===u||u.call(n,t,s),{data:void 0,errors:t};throw t})},[]),m=(0,i.useCallback)(function(){p.current.isMounted&&f({called:!1,loading:!1,client:r})},[]);return(0,i.useEffect)(function(){return p.current.isMounted=!0,function(){p.current.isMounted=!1}},[]),[g,(0,e.pi)({reset:m},s)]}}},function(n){n.O(0,[774,888,179],function(){return n(n.s=8015)}),_N_E=n.O()}]);